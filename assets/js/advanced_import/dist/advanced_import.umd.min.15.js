(("undefined"!==typeof self?self:this)["webpackJsonpadvanced_import"]=("undefined"!==typeof self?self:this)["webpackJsonpadvanced_import"]||[]).push([[15],{2532:function(e,t,n){"use strict";var i=n("23e7"),a=n("5a34"),s=n("1d80"),r=n("ab13");i({target:"String",proto:!0,forced:!r("includes")},{includes:function(e){return!!~String(s(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},"5a34":function(e,t,n){var i=n("44e7");e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},ab0f:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("The wizard guessed the mapping for you but you can adjust the mapping as needed and select the dynamic fields.")]),n("table",{staticClass:"table table-striped table-bordered"},[n("thead",[n("tr",[n("th",[e._v("Destination Field (REDCap)")]),n("th",[e._v("Source Field (CSV file)")]),n("th",[e._v("Dynamic "),n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-dynamic-fields",modifiers:{"modal-dynamic-fields":!0}}],attrs:{size:"sm",variant:"outline-info"}},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","question-circle"]}})],1)],1)])]),n("tbody",e._l(e.form_fields,(function(t,i){return n("tr",{key:i},[n("td",[n("span",{staticClass:"d-flex flex-row align-items-center"},[n("span",[e._v(e._s(t.element_label))]),t.field_name===e.primary_key?n("font-awesome-icon",{staticClass:"icon text-warning ml-1",attrs:{title:"primary key",icon:["fas","star"]}}):e._e()],1),n("span",{staticClass:"small"},[e._v("("+e._s(t.field_name)+")")])]),n("td",[n("select",{staticClass:"form-control",domProps:{value:e.mapping[t.field_name]},on:{change:function(n){e.onInput(t.field_name)(n)}}},[n("option",{attrs:{value:""}},[e._v("--- skip ---")]),e._l(e.csv_fields,(function(t,i){return n("option",{key:i,attrs:{disabled:Object.values(e.mapping).includes(i)},domProps:{value:i}},[e._v(e._s(t))])}))],2),n("div")]),n("td",[t.field_name!==e.primary_key?n("b-form-checkbox",{attrs:{disabled:!t.field_name||isNaN(e.mapping[t.field_name]),value:t.field_name,switch:""},model:{value:e.dynamic_keys,callback:function(t){e.dynamic_keys=t},expression:"dynamic_keys"}}):e._e()],1)])})),0)]),n("b-modal",{attrs:{id:"modal-dynamic-fields",title:"Dynamic fields","ok-only":""}},[n("div",{staticClass:"my-4"},[n("p",[e._v('Mark as "dynamic" the fields that could change in an entry.')]),n("p",[e._v('If you are importing "medications" in a repeated form, for example, you may want to mark the "status" field as dynamic since it could change in time.')]),n("p",[e._v("Dynamic fields will be ignored when the wizard will try to determine the uniqueness of a row.")])])]),n("div",{staticClass:"buttons d-flex flex-row justify-content-between"},[e._t("left"),e._t("default"),e._t("right",null,{validation:e.$v})],2)],1)},a=[],s=(n("4de4"),n("caad"),n("d81d"),n("a9e3"),n("b64b"),n("2532"),n("2909")),r=n("5530"),o=n("2f62"),d={data:function(){return{}},computed:Object(r["a"])(Object(r["a"])({},Object(o["b"])({csv_fields:function(e){return e.csv_data.fields},mapping:function(e){return e.import_settings.mapping},primary_key:function(e){return e.import_settings.primary_key}})),{},{dynamic_keys:{get:function(){return this.$store.state.import_settings.dynamic_keys},set:function(e){this.$store.dispatch("import_settings/setStateProperty",{key:"dynamic_keys",value:e})}},form_fields:function(){var e=this.$store.state.import_settings.form_name,t=this.$store.getters["settings/form_fields"](e);return t}}),methods:{onInput:function(e){var t=this;return function(n){var i=Number(n.target.value);e&&!isNaN(i)?t.$store.dispatch("import_settings/setMapping",{target:e,source:i}):console.log("error mapping the field ".concat(e))}}},validations:function(){var e=Object(s["a"])(this.form_fields).map((function(e){return e.field_name}));return{mapping:{required:function(t){var n=Object.keys(t),i=e.filter((function(e){return n.includes(e)}));return i.length>=1},primaryKeyIsMapped:function(e){var t=Object.keys(e),n=this.primary_key;return t.includes(n)}}}}},c=d,l=n("2877"),u=Object(l["a"])(c,i,a,!1,null,null,null);t["default"]=u.exports},ab13:function(e,t,n){var i=n("b622"),a=i("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(i){}}return!1}},caad:function(e,t,n){"use strict";var i=n("23e7"),a=n("4d64").includes,s=n("44d2"),r=n("ae40"),o=r("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!o},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")}}]);
//# sourceMappingURL=advanced_import.umd.min.15.js.map