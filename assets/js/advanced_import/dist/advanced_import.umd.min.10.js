(("undefined"!==typeof self?self:this)["webpackJsonpadvanced_import"]=("undefined"!==typeof self?self:this)["webpackJsonpadvanced_import"]||[]).push([[10],{2532:function(e,t,r){"use strict";var n=r("23e7"),a=r("5a34"),s=r("1d80"),o=r("ab13");n({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(s(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},"5a34":function(e,t,r){var n=r("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},ab13:function(e,t,r){var n=r("b622"),a=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[a]=!1,"/./"[e](t)}catch(n){}}return!1}},b929:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.processing?r("div",[r("b-progress",{attrs:{max:e.max,"show-progress":"",animated:"",variant:"success",height:"2rem",size:"sm"}},[r("b-progress-bar",{attrs:{value:e.progress,label:(100*e.progress).toFixed(2)+"%"}})],1),r("div",{staticClass:"text-muted small"},[e.uploaded_bytes&&e.uploaded_bytes>0?r("span",[e._v("uploaded "+e._s(e.formatBytes(e.uploaded_bytes))+" of "+e._s(e.formatBytes(e.file_size)))]):e._e(),r("non-blank-space")],1)],1):e._e(),e._e()])},a=[],s=(r("99af"),r("fb6a"),r("b0c0"),r("96cf"),r("1da1")),o=r("53ca"),i=r("6846"),c=r("d234"),u=1024e3,l=512e4,d=20,p={data:function(){return{cancel:null,content:"",start:0,end:0,max:1,processing:!1,paused:!1,abort:!1,remote_file_name:null,progress:0,uploaded_bytes:0,file_size:0,formatBytes:c["a"]}},props:{files:{type:[File,Array],default:function(){return[]}}},computed:{file:function(){var e,t=this.files;return"object"===Object(o["a"])(t)?e=t:Array.isArray(t)&&t.length>0&&(e=t[0]),e?new File([e],e.name):null},chunk_size:function(){return this.calcChunkSize(this.file)},processed:function(){var e=this.uploaded_bytes||0,t=this.file_size||0,r=Object(c["a"])(e),n=Object(c["a"])(t);return"".concat(r,"/").concat(n)}},destroyed:function(){this.stop()},methods:{processChunk:function(e,t){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,s,o,i,c,u,l,d,p,f,h,b,g;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,!r.abort){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,r.sendChunk(e,t);case 5:if(a=n.sent,s=a.data,o=s.uploaded_bytes,i=s.file_size,s){n.next=10;break}throw new Error("no response");case 10:if(c=r.updateProgress(o,i),r.$emit("progress",{file:e,progress:c,response:a}),r.start=r.end,u=s.unique_name,u&&r.updateUniqueFileName(u),r.paused||!(r.end<e.size)){n.next=19;break}return n.abrupt("return",r.upload());case 19:return r.reset(),l={component:r,file_name:r.remote_file_name},r.$emit("completed",l),n.abrupt("return",l);case 23:n.next=32;break;case 25:n.prev=25,n.t0=n["catch"](0),d=n.t0.response,p=void 0===d?{}:d,f=p.data,h=void 0===f?{}:f,b=h.message,g=void 0===b?"":b,r.$emit("error",{message:g,file:e,error:n.t0}),r.reset();case 32:case"end":return n.stop()}}),n,null,[[0,25]])})))()},calculateProgress:function(e,t){try{var r=t/e.size;return t<0?0:t>e.size?1:r}catch(n){return 0}},sendChunk:function(e,t){var r=this.$API.dispatch("upload/upload",e,t);return this.cancel=r.cancel,r},calcChunkSize:function(e){if(!e)return u;var t=e.size,r=void 0===t?0:t,n=r/d;return n<u?u:n>l?l:n},updateProgress:function(e,t){if(this.uploaded_bytes=e,this.file_size=t,!isNaN(e)&&!isNaN(t)&&!(t<=0)){var r=e/t;return this.progress=r,r}},upload:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.file){t.next=2;break}return t.abrupt("return");case 2:return r=e.file,e.processing=!0,e.paused=!1,e.end=e.start+e.chunk_size+1,n=r.slice(e.start,e.end),a=new i["a"],t.next=10,a.readAsDataURLAsync(n);case 10:return s=t.sent,t.abrupt("return",e.processChunk(r,s));case 12:case"end":return t.stop()}}),t)})))()},stop:function(){"function"===typeof this.cancel&&this.cancel(),this.abort=!0},onPause:function(){this.processing=!1,this.paused=!0},updateUniqueFileName:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.file.unique_name||(this.file.unique_name=e,this.remote_file_name=e)},reset:function(){var e=this;setTimeout((function(){e.cancel=null,e.start=0,e.end=0,e.processing=!1,e.paused=!1,e.abort=!1}),1e3)}}},f=p,h=r("2877"),b=Object(h["a"])(f,n,a,!1,null,null,null);t["a"]=b.exports},c961:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("FileUploader",{on:{completed:e.onUploadCompleted}}),r("div",{staticClass:"d-flex flex-row justify-content-center align-items-center"},[r("b-card",{attrs:{title:"This is a test","img-src":e.cat},scopedSlots:e._u([{key:"header",fn:function(){return[r("h6",{staticClass:"mb-0"},[e._v("Header Slot")])]},proxy:!0},{key:"footer",fn:function(){return[r("h6",{staticClass:"mb-0"},[e._v("Footer Slot")])]},proxy:!0}])},[r("b-card-text",[e._v(" This is a test ")])],1)],1)],1)},a=[],s=r("e2f7"),o=r.n(s),i=(r("4160"),r("fb6a"),r("cca6"),r("96cf"),r("1da1")),c=r("d4ec"),u=r("bee2"),l=r("ade3"),d=r("bc3a"),p=r.n(d),f=(r("caad"),r("e260"),r("4ec9"),r("d3b7"),r("2532"),r("3ca3"),r("159b"),r("ddb0"),function(e){return{callbacks:new Map,on:function(t,r){e.callbacks.has(t)||e.callbacks.set(t,[]);var n=e.callbacks.get(t);n.includes(r)||n.push(r)},off:function(t,r){if(e.callbacks.has(t)){var n=e.callbacks.get(t);n.includes(r)&&delete n[r]}},trigger:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.callbacks.get(t);n&&n.forEach((function(e){e({type:t,details:r})}))}}}),h=function(){function e(t){var r=t.chunk_size,n=t.upload_callback;Object(c["a"])(this,e),Object(l["a"])(this,"chunk_size",1024e3),Object(l["a"])(this,"upload_url",void 0),r&&(this.chunk_size=r),this.upload_callback=n||this.defaultUploadCallback,Object.assign(this,f(this))}return Object(u["a"])(e,[{key:"defaultUploadCallback",value:function(e){return p.a.post(this.upload_url,e,{headers:{"Content-Type":"multipart/form-data"}})}}]),Object(u["a"])(e,[{key:"setUploadCallback",value:function(e){this.upload_callback=e}},{key:"upload",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=r+this.chunk_size+1;n>e.size&&(n=e.size);var a=e.slice(r,n),s=function(e,r){return function(){var n=Object(i["a"])(regeneratorRuntime.mark((function n(a){var s,o,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,a.target.readyState===FileReader.DONE){n.next=3;break}return n.abrupt("return");case 3:return s=a.target.result,n.next=6,t.sendChunk(e,s);case 6:if(o=n.sent,i=o.data,i){n.next=10;break}throw new Error("no response");case 10:if(c=t.calculateProgress(e,r),t.trigger("progress",{file:e,progress:c,response:o}),!(r<e.size)){n.next=16;break}return n.abrupt("return",t.upload(e,r));case 16:return n.abrupt("return",t.trigger("completed",{file:e,progress:c,response:o}));case 17:n.next=23;break;case 19:return n.prev=19,n.t0=n["catch"](0),console.log(n.t0),n.abrupt("return",t.trigger("error",{file:e,error:n.t0}));case 23:case"end":return n.stop()}}),n,null,[[0,19]])})));return function(e){return n.apply(this,arguments)}}()},o=new FileReader;o.onloadend=s(e,n),o.readAsDataURL(a)}},{key:"calculateProgress",value:function(e,t){return Math.floor(t/e.size*100)}},{key:"sendChunk",value:function(e,t){console.log(e);var r=new FormData,n=["name","lastModified","lastModifiedDate","size","type"];if(n.forEach((function(t){r.append(t,e[t])})),r.append("chunk",t),"function"===typeof this.upload_callback)return this.upload_callback(r)}}]),e}(),b=r("b929"),g={components:{FileUploader:b["a"]},data:function(){return{cat:o.a,file:null,progress:0,max:100,uploading:!1,completed:!1}},computed:{},methods:{upload:function(){var e=this;try{this.uploading=!0,this.completed=!1,this.progress=0;var t=function(t){return e.$API.dispatch("upload/upload",t)},r=new h({upload_callback:t,chunk_size:1024e3});r.on("progress",(function(t){var r=t.type,n=t.details,a=n.progress;e.progress=a,console.log(n,r,a)})),r.on("completed",(function(t){console.log(t),e.uploading=!1,e.completed=!0})),r.on("error",(function(t){console.log(t),e.uploading=!1,e.completed=!1})),r.upload(this.file)}catch(n){console.log(n)}},onFileChange:function(e){console.log(e);var t=this.$refs.file,r=t.files,n=r[0]||!1;this.file=n},update:function(e,t,r){console.log(e,t,r)},onUploadCompleted:function(e){var t=e.component,r=e.file_name;console.log(t,r)}}},m=g,v=r("2877"),k=Object(v["a"])(m,n,a,!1,null,null,null);t["default"]=k.exports},caad:function(e,t,r){"use strict";var n=r("23e7"),a=r("4d64").includes,s=r("44d2"),o=r("ae40"),i=o("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!i},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},e2f7:function(e,t,r){e.exports=r.p+"img/crying-cat.3e8409dc.jpg"}}]);
//# sourceMappingURL=advanced_import.umd.min.10.js.map