(("undefined"!==typeof self?self:this)["webpackJsonpadvanced_import"]=("undefined"!==typeof self?self:this)["webpackJsonpadvanced_import"]||[]).push([[10],{2278:function(t,e,n){},"6b7c":function(t,e,n){},"7db0":function(t,e,n){"use strict";var i=n("23e7"),s=n("b727").find,a=n("44d2"),r=n("ae40"),o="find",c=!0,u=r(o);o in[]&&Array(1)[o]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!u},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),a(o)},"91b4":function(t,e,n){"use strict";var i=n("2278"),s=n.n(i);s.a},a955:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wizard"},[n("FilePreview"),n("b-card",{staticClass:"mt-2"},[n("b-tabs",{staticClass:"wizard-tabs",attrs:{"no-nav-style":"","content-class":"mt-0"},model:{value:t.step_index,callback:function(e){t.step_index=e},expression:"step_index"}},t._l(t.steps,(function(e,i){return n("b-tab",{key:i,attrs:{title:"","title-link-class":"d-none"}},[n("div",{staticClass:"steps text-center mb-2"},[n("b-badge",{attrs:{variant:"light"}},[t._v("Step "+t._s(t.step_index+1)+" of "+t._s(t.steps.length))])],1),n(e.component,{tag:"component",scopedSlots:t._u([{key:"left",fn:function(){return[t.step_index>0?n("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:0==t.step_index},on:{click:t.goToPrevStep}},[t._v("go back")]):n("span")]},proxy:!0},{key:"default",fn:function(){},proxy:!0},{key:"right",fn:function(e){var i=e.validation,s=e.processFunction;return[n("button",{directives:[{name:"show",rawName:"v-show",value:t.step_index<t.steps.length-1,expression:"step_index<(steps.length-1)"}],staticClass:"btn btn-outline-primary",attrs:{disabled:i.$invalid},on:{click:function(e){return t.goToNextStep(s)}}},[t._v("next")])]}}],null,!0)})],1)})),1)],1)],1)},s=[],a=(n("d3b7"),n("e6cf"),n("96cf"),n("1da1")),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.items_proxy&&t.items_proxy.length>0?n("b-card",{staticClass:"mt-2",attrs:{id:"table-container",title:t.title}},[n("b-table",{attrs:{id:"my-table",items:t.items_proxy,small:"",bordered:"",striped:"",hover:"",thClass:"th-head"},scopedSlots:t._u([{key:"head()",fn:function(e){return[n("section",[n("span",{staticClass:"d-block small",attrs:{title:"REDCap field"}},[n("non-blank-space"),Boolean(t.getMappingIndex(e.column))?n("b-badge",{attrs:{variant:"info"}},[n("span",[t._v(t._s(t.getMappingIndex(e.column)))]),t.isPrimaryKey(e.column)?n("font-awesome-icon",{staticClass:"ml-1 text-warning",attrs:{icon:"star",title:"primary key"}}):t._e(),t.isDynamic(e.column)?n("font-awesome-icon",{staticClass:"ml-1 text-danger",attrs:{icon:"level-down-alt",title:"dynamic"}}):t._e()],1):t._e()],1),n("span",{staticClass:"d-block small",attrs:{title:"CSV column"}},[t._v(t._s(e.column))])])]}}],null,!1,3827963304)}),n("section",[t.counting?n("span",[t._v("Counting lines:")]):n("span",[t._v("Total lines:")]),n("span",[t._v(" "+t._s(t.formatNumber(t.total_lines)))])])],1):t._e()],1)},o=[],c=(n("7db0"),n("c975"),n("e260"),n("d81d"),n("b0c0"),n("b64b"),n("ddb0"),n("2909")),u=n("5530"),l=n("2f62"),d={data:function(){return{}},computed:Object(u["a"])(Object(u["a"])({},Object(l["b"])({items:function(t){return t.csv_data.data},total_lines:function(t){return t.csv_data.total_lines},counting:function(t){return t.csv_data.counting},files:function(t){return t.import_settings.files}})),{},{title:function(){var t="Preview";if(this.files&&this.files.name){var e=this.files.name,n=void 0!==e&&e;n&&(t="".concat(n," (preview)"))}return t},items_proxy:function(){var t=this.files;if(!t){var e=Object(c["a"])(Array(5).keys()).map((function(){return{"no data":""}}));return e}return this.items}}),destroyed:function(){this.$store.dispatch("csv_data/stopCounting")},methods:{formatNumber:function(t){return new Intl.NumberFormat("en-US",{}).format(t)},getMappingIndex:function(t){var e=Object(u["a"])({},this.$store.state.import_settings),n=e.mapping,i=this.items[0]||{},s=Object.keys(i),a=s.indexOf(t),r=Object.keys(n).find((function(t){return n[t]===a}));return r},isDynamic:function(t){var e=this.getMappingIndex(t),n=Object(u["a"])({},this.$store.state.import_settings),i=n.dynamic_keys;return i.indexOf(e)>=0},isPrimaryKey:function(t){var e=this.getMappingIndex(t),n=Object(u["a"])({},this.$store.state.import_settings),i=n.primary_key;return e&&e==i}},watch:{files:{immediate:!0,handler:function(t){this.$store.dispatch("csv_data/countFileLinesFast",t)}}}},p=d,f=(n("91b4"),n("2877")),m=Object(f["a"])(p,r,o,!1,null,"5c0e1aa0",null),b=m.exports,h=[{component:function(){return n.e(6).then(n.bind(null,"8761"))}},{component:function(){return n.e(3).then(n.bind(null,"5a78"))}},{component:function(){return n.e(20).then(n.bind(null,"d622"))}},{component:function(){return n.e(5).then(n.bind(null,"43f0"))}},{component:function(){return n.e(9).then(n.bind(null,"12bd"))}},{component:function(){return n.e(16).then(n.bind(null,"ab0f"))}},{component:function(){return n.e(8).then(n.bind(null,"7406"))}},{component:function(){return n.e(14).then(n.bind(null,"01bd"))}}],_={components:{FilePreview:b},data:function(){return{step_index:0,steps:h,processing:!1}},created:function(){this.step=this.steps[0]},destroyed:function(){this.$store.dispatch("import_settings/reset"),this.$store.dispatch("csv_data/reset")},methods:{goToPrevStep:function(){var t=this.step_index;--t<=0&&(t=0),this.step_index=t},goToNextStep:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t||"function"!=typeof t){n.next=6;break}return n.next=3,t();case 3:if(i=n.sent,i){n.next=6;break}throw new Error("error going to next step");case 6:s=e.step_index,++s>=e.steps.length&&(s=e.steps.length-1),e.step_index=s;case 9:case"end":return n.stop()}}),n)})))()}}},v=_,g=(n("d83a"),Object(f["a"])(v,i,s,!1,null,"475f86c6",null));e["default"]=g.exports},d81d:function(t,e,n){"use strict";var i=n("23e7"),s=n("b727").map,a=n("1dde"),r=n("ae40"),o=a("map"),c=r("map");i({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},d83a:function(t,e,n){"use strict";var i=n("6b7c"),s=n.n(i);s.a}}]);
//# sourceMappingURL=advanced_import.umd.min.10.js.map